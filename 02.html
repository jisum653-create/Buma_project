<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025, ì°¨ê°€ìš´ ìƒì¡´: ì²­ë…„ì˜ ì¹¨ë¬µê³¼ ê°ìë„ìƒ</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-cloud/1.2.5/d3.layout.cloud.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;500;700;900&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        /* --- ìƒë‹¨ íˆì–´ë¡œ ì„¹ì…˜ --- */
        .hero-header {
            position: relative;
            width: 100%;
            height: 380px;
            background-image: linear-gradient(rgba(20, 30, 48, 0.7), rgba(36, 59, 85, 0.7)), url('https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=1920&auto=format&fit=crop'); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            margin-bottom: 40px;
            transition: background-position 0.1s;
        }

        .hero-header h2 {
            font-size: 2.8rem;
            margin: 0 0 15px 0;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.6);
            letter-spacing: -1px;
            word-break: keep-all;
            padding: 0 20px;
            animation: fadeInDown 1s ease-out;
        }

        .hero-header .description {
            font-size: 1.15rem;
            max-width: 700px;
            color: #e0e0e0;
            line-height: 1.6;
            padding: 0 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            margin: 0;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* í™ˆ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .home-button {
            position: absolute;
            top: 25px;
            left: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            text-decoration: none;
            color: white;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            z-index: 100;
        }

        .home-button:hover {
            background-color: white;
            color: #333;
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .home-button svg {
            width: 24px;
            height: 24px;
        }

        /* --- ì½˜í…ì¸  ë˜í¼ --- */
        .content-wrapper {
            width: 100%;
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 40px 60px 40px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        /* ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ */
        .scroll-reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s ease-out;
        }
        .scroll-reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- ì›Œë“œí´ë¼ìš°ë“œ ìŠ¤íƒ€ì¼ --- */
        #word-cloud {
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            padding: 20px;
            width: 100%;
            max-width: 800px;
            height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-bottom: 30px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        #word-cloud:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        /* --- í•„í„° ë²„íŠ¼ ìŠ¤íƒ€ì¼ --- */
        .filter-container {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-btn {
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            background-color: white;
            color: #555;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .filter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .filter-btn.active {
            color: white;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: scale(1.05);
        }

        .filter-btn[data-category="all"].active { background-color: #555; }
        .filter-btn[data-category="action"].active { background-color: #D32F2F; }
        .filter-btn[data-category="value"].active { background-color: #1976D2; }
        .filter-btn[data-category="emotion"].active { background-color: #F57C00; }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .tooltip {
            position: absolute;
            text-align: center;
            padding: 10px 16px;
            font-size: 14px;
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            border-radius: 8px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 100;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            line-height: 1.5;
            transform: translate(-50%, -100%);
            margin-top: -10px; 
            white-space: nowrap;
        }
        
        /* ë¶„ì„ í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .analysis-table-container {
            width: 100%;
            max-width: 800px;
            margin-bottom: 50px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .analysis-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
        }

        .analysis-table th, .analysis-table td {
            padding: 18px 24px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.4s ease;
        }

        .analysis-table th {
            background-color: #f8f9fa;
            font-weight: 700;
            color: #333;
            border-bottom: 2px solid #e0e0e0;
            font-size: 1rem;
        }

        .analysis-table tr:last-child td {
            border-bottom: none;
        }

        .analysis-table tr.inactive-row {
            opacity: 0.25;
            filter: grayscale(100%);
            background-color: #fafafa;
        }

        .analysis-table tr.active-row {
            opacity: 1;
            background-color: #fffcf5;
            transform: scale(1.01);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            z-index: 10;
            position: relative;
        }

        .category-cell {
            font-weight: 800;
            white-space: nowrap;
            font-size: 1.05rem;
        }
        
        .cat-action { color: #D32F2F; }
        .cat-value { color: #1976D2; }
        .cat-emotion { color: #F57C00; }

        .keywords-cell {
            color: #444;
            line-height: 1.7;
            font-weight: 500;
        }

        .interpretation-cell {
            color: #555;
            line-height: 1.6;
            font-size: 0.92rem;
            background-color: #fcfcfc;
            border-radius: 8px;
        }

        /* ì°¸ê³  ìë£Œ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .sources-container {
            width: 100%;
            max-width: 800px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            padding: 35px;
            box-sizing: border-box;
        }

        .sources-container h3 {
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 1.2rem;
            color: #333;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .source-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 10px;
            border-bottom: 1px solid #f5f5f5;
            border-radius: 8px;
            transition: background-color 0.2s;
        }

        .source-item:hover {
            background-color: #f9f9f9;
        }

        .source-info {
            display: flex;
            flex-direction: column;
            gap: 6px;
            flex: 1;
            margin-right: 20px;
        }

        .source-title {
            font-weight: 600;
            color: #222;
            font-size: 1rem;
        }

        .source-desc {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 2px;
        }

        .source-origin {
            font-size: 0.8rem;
            color: #999;
        }

        .source-link {
            display: inline-block;
            background-color: #f0f0f0;
            color: #555;
            padding: 8px 16px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .source-link:hover {
            background-color: #333;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        @media (max-width: 800px) {
            .hero-header { height: 320px; padding: 0 15px; }
            .hero-header h2 { font-size: 2rem; }
            .content-wrapper { padding: 0 20px 40px 20px; align-items: center; }
            .analysis-table th, .analysis-table td { padding: 15px; display: block; width: 100%; box-sizing: border-box; }
            .analysis-table th { display: none; }
            .category-cell { font-size: 1.2rem; margin-bottom: 8px; border-bottom: none; padding-bottom: 0; }
            .keywords-cell { padding-top: 0; padding-bottom: 15px; }
            .interpretation-cell { background-color: #f0f0f0; border-radius: 12px; margin-bottom: 25px; padding: 15px; }
            .source-item { flex-direction: column; align-items: flex-start; gap: 15px; }
            .source-link { width: 100%; text-align: center; box-sizing: border-box; }
            .filter-container { justify-content: center; }
        }
    </style>
</head>
<body>

    <!-- ìƒë‹¨ íˆì–´ë¡œ ì„¹ì…˜ -->
    <header class="hero-header">
        <a href="index.html" class="home-button" aria-label="ë©”ì¸ìœ¼ë¡œ ì´ë™">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
        </a>

        <h2>2025, ì°¨ê°€ìš´ ìƒì¡´:<br>ì²­ë…„ì˜ ì¹¨ë¬µê³¼ ê°ìë„ìƒ</h2>
        <p class="description">
            2024~2025ë…„ ì£¼ìš” ë‰´ìŠ¤ í—¤ë“œë¼ì¸ ë¶„ì„.<br>
            íˆ¬ìŸ ëŒ€ì‹  ì¹¨ë¬µì„, ì—°ëŒ€ ëŒ€ì‹  ê°ìë„ìƒì„ ì„ íƒí•œ ì²­ë…„ë“¤ì˜ ì–¸ì–´ì…ë‹ˆë‹¤.
        </p>
    </header>

    <div class="content-wrapper">
        
        <!-- í•„í„° ë²„íŠ¼ -->
        <div class="filter-container scroll-reveal">
            <button class="filter-btn active" data-category="all" onclick="filterWords('all')">
                <span>ì „ì²´ ë³´ê¸°</span>
            </button>
            <button class="filter-btn" data-category="action" onclick="filterWords('action')">
                <div class="dot" style="background-color: #D32F2F;"></div>
                <span>í–‰ë™ (Action)</span>
            </button>
            <button class="filter-btn" data-category="value" onclick="filterWords('value')">
                <div class="dot" style="background-color: #1976D2;"></div>
                <span>ê°€ì¹˜ (Value)</span>
            </button>
            <button class="filter-btn" data-category="emotion" onclick="filterWords('emotion')">
                <div class="dot" style="background-color: #F57C00;"></div>
                <span>ê°ì • (Emotion)</span>
            </button>
        </div>

        <!-- ì›Œë“œí´ë¼ìš°ë“œ ì˜ì—­ -->
        <div id="word-cloud" class="scroll-reveal"></div>

        <!-- ë¶„ì„ í…Œì´ë¸” -->
        <div class="analysis-table-container scroll-reveal">
            <table class="analysis-table">
                <thead>
                    <tr>
                        <th width="15%">ë¶„ë¥˜</th>
                        <th width="50%">ì£¼ìš” í‚¤ì›Œë“œ</th>
                        <th width="35%">í•´ì„ (ì²­ë…„ì˜ ì—´ì • ë¶„ì„)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-category="action">
                        <td class="category-cell cat-action">í–‰ë™ ì–¸ì–´<br><small>(Action)</small></td>
                        <td class="keywords-cell">
                            <strong>ì¹¨ë¬µ, ìŠ¤í™ ìŒ“ê¸°, íˆ¬ì</strong>, ê²½ìŸ, ì¸ì¦, ì†ì ˆ, ì´íƒˆ, ìˆ¨ê¸°, í¬ê¸°, ì ì , ê³„ì‚°, ë¹„êµ
                        </td>
                        <td class="interpretation-cell">
                            ê´‘ì¥ì— ëª¨ì´ëŠ” ëŒ€ì‹  ê°ìì˜ ë°©ìœ¼ë¡œ í©ì–´ì¡ŒìŠµë‹ˆë‹¤. 'íˆ¬ìŸ' ëŒ€ì‹  <strong>'ìŠ¤í™'ê³¼ 'ìì‚°'ì„ ìŒ“ìœ¼ë©° ì² ì €íˆ ê°œì¸ì˜ ìƒì¡´</strong>ì„ ë„ëª¨í•˜ëŠ” 'ê°ìë„ìƒ'ì˜ í–‰ë™ ì–‘ì‹ì„ ë³´ì…ë‹ˆë‹¤.
                        </td>
                    </tr>
                    <tr data-category="value">
                        <td class="category-cell cat-value">ê°€ì¹˜ ì–¸ì–´<br><small>(Value)</small></td>
                        <td class="keywords-cell">
                            <strong>ìƒì¡´, ê³µì •, ìì‚°</strong>, ëŠ¥ë ¥ì£¼ì˜, ê²°ê³¼, ë³´ìƒ, ì•ˆì „, ì‹¤ë¦¬, ë‚´ ì‚¶, íš¨ëŠ¥ê° ìƒì‹¤
                        </td>
                        <td class="interpretation-cell">
                            ê±°ëŒ€ ë‹´ë¡ (ë¯¼ì£¼, ì •ì˜)ë³´ë‹¤ëŠ” <strong>'ë‚˜ì˜ ìƒì¡´'ê³¼ 'ë‹¹ì¥ì˜ ê³µì •(Fairness)'</strong>ì— ì§‘ì¤‘í•©ë‹ˆë‹¤. ë‚´ê°€ ë…¸ë ¥í•œ ë§Œí¼ì˜ í™•ì‹¤í•œ ë³´ìƒì„ ìš”êµ¬í•˜ëŠ” ì‹¤ë¦¬ì£¼ì˜ì  íƒœë„ê°€ ê°•í•©ë‹ˆë‹¤.
                        </td>
                    </tr>
                    <tr data-category="emotion">
                        <td class="category-cell cat-emotion">ê°ì • ì–¸ì–´<br><small>(Emotion)</small></td>
                        <td class="keywords-cell">
                            <strong>ë¶ˆì•ˆ, í”¼ë¡œê°, ë°•íƒˆê°</strong>, ë¬´ê´€ì‹¬, ëƒ‰ì†Œ, ë‘ë ¤ì›€, ë¬´ê¸°ë ¥, ì–µìš¸í•¨, ë¶ˆì‹ , ì ˆë°•í•¨
                        </td>
                        <td class="interpretation-cell">
                            ê³¼ê±°ì˜ ëœ¨ê±°ìš´ ë¶„ë…¸ê°€ ì™¸ë¶€ë¡œ í‘œì¶œë˜ì—ˆë‹¤ë©´, í˜„ì¬ëŠ” <strong>'ë¶ˆì•ˆ'ê³¼ 'ë°•íƒˆê°'ì´ ë‚´ë©´ìœ¼ë¡œ ì¹¨ì „</strong>ë˜ì—ˆìŠµë‹ˆë‹¤. ì‚¬íšŒ ì‹œìŠ¤í…œì— ëŒ€í•œ ê¹Šì€ ë¶ˆì‹ ê³¼ í”¼ë¡œê°ì´ ê¹”ë ¤ ìˆìŠµë‹ˆë‹¤.
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ì°¸ê³  ìë£Œ ì„¹ì…˜ -->
        <div class="sources-container scroll-reveal">
            <h3>ğŸ“Š ë°ì´í„° ì¶œì²˜ ë° ì°¸ê³  ìë£Œ</h3>
            
            <div class="source-item">
                <div class="source-info">
                    <span class="source-title">"íˆ¬í‘œ? ê´€ì‹¬ ì—†ì–´ìš”"... ê¸¸ ìƒì€ 2030 í‘œì‹¬</span>
                    <span class="source-desc">ì •ì¹˜ íš¨ëŠ¥ê° ìƒì‹¤ê³¼ ë¬´ê´€ì‹¬ì— ëŒ€í•œ ë¶„ì„</span>
                    <span class="source-origin">ì„¸ê³„ì¼ë³´ (2024)</span>
                </div>
                <a href="https://v.daum.net/v/x7hgWENfiq" target="_blank" class="source-link">ê¸°ì‚¬ ë³´ê¸° â†—</a>
            </div>

            <div class="source-item">
                <div class="source-info">
                    <span class="source-title">ê³ ë¦½Â·ì€ë‘” ì²­ë…„ 54ë§Œ ëŒíŒŒ... "ë‹¤ì‹œ ë‚˜ê°€ê³  ì‹¶ì€ë°"</span>
                    <span class="source-desc">ê²½ìŸ í”¼ë¡œì™€ ì‚¬íšŒì  ë‹¨ì ˆ í˜„ìƒ</span>
                    <span class="source-origin">ì—°í•©ë‰´ìŠ¤ (2023)</span>
                </div>
                <a href="https://www.yna.co.kr/view/AKR20231213042400530" target="_blank" class="source-link">ê¸°ì‚¬ ë³´ê¸° â†—</a>
            </div>

            <div class="source-item">
                <div class="source-info">
                    <span class="source-title">"êµ­ê°€ëŠ” ëª» ë¯¿ê³ , ê°ìë„ìƒ ì¹˜ì—´í–ˆë‹¤"</span>
                    <span class="source-desc">êµ­ê°€ ë¶ˆì‹ ê³¼ ìƒì¡´ ë³¸ëŠ¥ì  ì¬í…Œí¬ ì—´í’</span>
                    <span class="source-origin">ê³µê°ì‹ ë¬¸ (2024)</span>
                </div>
                <a href="https://www.gokorea.kr/news/articleView.html?idxno=852401" target="_blank" class="source-link">ê¸°ì‚¬ ë³´ê¸° â†—</a>
            </div>

            <div class="source-item">
                <div class="source-info">
                    <span class="source-title">"ë¶€ëª¨ë³´ë‹¤ ëª» ì‚¬ëŠ” ìµœì´ˆ ì„¸ëŒ€"... 'ë…¸ì˜¤ë ¥ì˜ ë°°ì‹ '</span>
                    <span class="source-desc">ê¸°íšŒ ë°•íƒˆê°ê³¼ ê³µì •ì— ëŒ€í•œ ì§‘ì°©</span>
                    <span class="source-origin">êµ­ë¯¼ì¼ë³´ (2024)</span>
                </div>
                <a href="https://v.daum.net/v/cDjbiQK5Mt" target="_blank" class="source-link">ê¸°ì‚¬ ë³´ê¸° â†—</a>
            </div>
        </div>

    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // ë°ì´í„°ì…‹: 2025 ì²­ë…„ í‚¤ì›Œë“œ
        const allWords = [
            // í–‰ë™ ì–¸ì–´ (Action) - Red
            {text: "ì¹¨ë¬µ", size: 100, category: "action"},
            {text: "ê°ìë„ìƒ", size: 95, category: "action"},
            {text: "ìŠ¤í™ìŒ“ê¸°", size: 90, category: "action"},
            {text: "íˆ¬ì", size: 85, category: "action"},
            {text: "ê²½ìŸ", size: 80, category: "action"},
            {text: "ì†ì ˆ", size: 75, category: "action"},
            {text: "ìˆ¨ê¸°", size: 70, category: "action"},
            {text: "í¬ê¸°", size: 65, category: "action"},
            {text: "ì¸ì¦", size: 60, category: "action"},
            {text: "ì´íƒˆ", size: 55, category: "action"},
            {text: "ì ì ", size: 50, category: "action"},
            {text: "ë¹„êµ", size: 50, category: "action"},
            {text: "ê³„ì‚°", size: 45, category: "action"},
            {text: "ë‹¨ì ˆ", size: 60, category: "action"},
            {text: "ì™¸ë©´", size: 55, category: "action"},

            // ê°€ì¹˜ ì–¸ì–´ (Value) - Blue
            {text: "ìƒì¡´", size: 100, category: "value"},
            {text: "ê³µì •", size: 95, category: "value"},
            {text: "ìì‚°", size: 90, category: "value"},
            {text: "ë‚´ ì‚¶", size: 85, category: "value"},
            {text: "ì‹¤ë¦¬", size: 80, category: "value"},
            {text: "ëŠ¥ë ¥ì£¼ì˜", size: 75, category: "value"},
            {text: "ê²°ê³¼", size: 70, category: "value"},
            {text: "ë³´ìƒ", size: 70, category: "value"},
            {text: "ì•ˆì „", size: 65, category: "value"},
            {text: "íš¨ëŠ¥ê°ìƒì‹¤", size: 60, category: "value"},
            {text: "ê°œì¸", size: 60, category: "value"},
            {text: "íšŒí”¼", size: 55, category: "value"},

            // ê°ì • ì–¸ì–´ (Emotion) - Orange
            {text: "ë¶ˆì•ˆ", size: 95, category: "emotion"},
            {text: "í”¼ë¡œê°", size: 90, category: "emotion"},
            {text: "ë°•íƒˆê°", size: 85, category: "emotion"},
            {text: "ë¬´ê´€ì‹¬", size: 80, category: "emotion"},
            {text: "ëƒ‰ì†Œ", size: 75, category: "emotion"},
            {text: "ë¶ˆì‹ ", size: 70, category: "emotion"},
            {text: "ì–µìš¸í•¨", size: 70, category: "emotion"},
            {text: "ë‘ë ¤ì›€", size: 65, category: "emotion"},
            {text: "ë¬´ê¸°ë ¥", size: 65, category: "emotion"},
            {text: "ì ˆë°•í•¨", size: 60, category: "emotion"},
            {text: "ë§‰ë§‰í•¨", size: 55, category: "emotion"},
            {text: "ë¶„ë…¸", size: 50, category: "emotion"},
        ];

        const colors = {
            action: "#D32F2F", 
            value: "#1976D2",  
            emotion: "#F57C00" 
        };

        // Font Size Scale: Map min-max weight to pixel size range
        // ë¹„ì¤‘(45~100)ì„ í°íŠ¸ í¬ê¸°(20px~95px)ë¡œ ë³€í™˜í•˜ì—¬ ì‹œê°ì  ì°¨ì´ ê·¹ëŒ€í™”
        const sizeScale = d3.scaleLinear()
            .domain([d3.min(allWords, d => d.size), d3.max(allWords, d => d.size)])
            .range([20, 95]);

        function renderWordCloud(data) {
            document.getElementById('word-cloud').innerHTML = '';
            
            const width = document.getElementById('word-cloud').offsetWidth;
            const height = 500;

            const layoutData = data.map(d => ({ 
                text: d.text, 
                size: d.size, 
                category: d.category 
            }));

            const layout = d3.layout.cloud()
                .size([width, height])
                .words(layoutData)
                .padding(5)
                .rotate(function() { return ~~(Math.random() * 2) * 90; })
                .font("Noto Sans KR")
                .fontSize(d => sizeScale(d.size)) // Scale í•¨ìˆ˜ ì ìš©
                .on("end", draw);

            layout.start();

            function draw(words) {
                const svg = d3.select("#word-cloud").append("svg")
                    .attr("width", layout.size()[0])
                    .attr("height", layout.size()[1])
                    .append("g")
                    .attr("transform", "translate(" + layout.size()[0] / 2 + "," + layout.size()[1] / 2 + ")");

                const textGroups = svg.selectAll("text")
                    .data(words)
                    .enter().append("text")
                    .style("font-size", function(d) { return d.size + "px"; })
                    .style("font-family", "Noto Sans KR")
                    .style("font-weight", "bold")
                    .style("fill", function(d) { return colors[d.category]; })
                    .attr("text-anchor", "middle")
                    .attr("transform", function(d) {
                        return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                    })
                    .text(function(d) { return d.text; })
                    .style("cursor", "pointer")
                    .style("opacity", 0)
                    .on("mouseover", function(event, d) {
                        // Hover ì‹œ ì•½ê°„ í™•ëŒ€
                        d3.select(this).transition().duration(200)
                          .style("opacity", 0.7)
                          .style("font-size", (d.size * 1.1) + "px");
                        
                        const tooltip = d3.select("#tooltip");
                        let categoryName = "";
                        if(d.category === 'action') categoryName = "í–‰ë™ ì–¸ì–´";
                        else if(d.category === 'value') categoryName = "ê°€ì¹˜ ì–¸ì–´";
                        else categoryName = "ê°ì • ì–¸ì–´";

                        // ì›ë³¸ ë°ì´í„°ì˜ 'size'(ë¹„ì¤‘) ê°’ì„ íˆ´íŒì— í‘œì‹œ
                        // d.sizeëŠ” ì´ë¯¸ scaleì´ ì ìš©ëœ í°íŠ¸ í¬ê¸°ì´ë¯€ë¡œ, 
                        // ì—­ìœ¼ë¡œ ì›ë˜ ë¹„ì¤‘ì„ ì°¾ê±°ë‚˜, layoutData ìƒì„± ì‹œ ì›ë³¸ ê°’ì„ ë³„ë„ ì €ì¥í•´ì•¼ ì •í™•í•¨.
                        // í•˜ì§€ë§Œ ì—¬ê¸°ì„œëŠ” í¸ì˜ìƒ ì‹œê°í™”ëœ í¬ê¸°(=ì¤‘ìš”ë„)ë¡œ ì´í•´í•´ë„ ë¬´ë°©í•˜ë¯€ë¡œ í˜„ì¬ í¬ê¸° í‘œì‹œ.
                        // ì •í™•í•œ ì›ë³¸ ë¹„ì¤‘ í‘œì‹œë¥¼ ìœ„í•´ ì›ë³¸ allWordsì—ì„œ ì°¾ì„ ìˆ˜ë„ ìˆìŒ.
                        const originalWord = allWords.find(w => w.text === d.text);
                        const weightVal = originalWord ? originalWord.size : Math.round(d.size);

                        tooltip.transition().duration(200).style("opacity", .95);
                        tooltip.html(`<strong>${d.text}</strong><br/>${categoryName}<br/><span style='font-size:0.9em; opacity:0.8'>ê°€ì¤‘ì¹˜: ${weightVal}</span>`)
                            .style("left", (event.pageX) + "px")
                            .style("top", (event.pageY) + "px");
                    })
                    .on("mousemove", function(event) {
                        d3.select("#tooltip")
                            .style("left", (event.pageX) + "px")
                            .style("top", (event.pageY) + "px");
                    })
                    .on("mouseout", function(d) {
                        d3.select(this).transition().duration(200).style("opacity", 1).style("font-size", d.size + "px");
                        d3.select("#tooltip").transition().duration(500).style("opacity", 0);
                    })
                    .on("click", function(event, d) {
                        filterWords(d.category);
                        const table = document.querySelector('.analysis-table-container');
                        table.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    });

                textGroups.transition()
                    .duration(800)
                    .ease(d3.easeBackOut)
                    .style("opacity", 1);
            }
        }

        function filterWords(category) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if(btn.dataset.category === category) {
                    btn.classList.add('active');
                }
            });

            let filteredData;
            if (category === 'all') {
                filteredData = allWords;
            } else {
                filteredData = allWords.filter(word => word.category === category);
            }
            renderWordCloud(filteredData);

            const rows = document.querySelectorAll('.analysis-table tbody tr');
            rows.forEach(row => {
                row.classList.remove('active-row', 'inactive-row');
                
                if (category === 'all') {
                    // Reset
                } else {
                    if (row.dataset.category === category) {
                        row.classList.add('active-row');
                    } else {
                        row.classList.add('inactive-row');
                    }
                }
            });
        }

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.15
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.scroll-reveal').forEach(el => {
            observer.observe(el);
        });

        renderWordCloud(allWords);

        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                const activeCategory = document.querySelector('.filter-btn.active').dataset.category;
                filterWords(activeCategory);
            }, 200);
        });
    </script>
</body>
</html>
