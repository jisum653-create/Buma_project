<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1979, íƒ€ì˜¤ë¥´ëŠ” ì²­ë…„ì˜ ì—´ì •: ë¶€ë§ˆë¯¼ì£¼í•­ìŸì˜ ëª©ì†Œë¦¬</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-cloud/1.2.5/d3.layout.cloud.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;500;700;900&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        /* --- ìƒë‹¨ íˆì–´ë¡œ ì„¹ì…˜ --- */
        .hero-header {
            position: relative;
            width: 100%;
            height: 350px;
            background-image: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1533613220915-609f661a6fe1?q=80&w=1920&auto=format&fit=crop'); 
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            margin-bottom: 40px;
        }

        .hero-header h2 {
            font-size: 2.5rem;
            margin: 0 0 15px 0;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            letter-spacing: -1px;
            word-break: keep-all;
            padding: 0 20px;
        }

        .hero-header .description {
            font-size: 1.1rem;
            max-width: 700px;
            color: #f0f0f0;
            line-height: 1.6;
            padding: 0 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            margin: 0;
        }

        /* í™ˆ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .home-button {
            position: absolute;
            top: 25px;
            left: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            background-color: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            text-decoration: none;
            color: white;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            z-index: 100;
        }

        .home-button:hover {
            background-color: white;
            color: #333;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .home-button svg {
            width: 24px;
            height: 24px;
        }

        /* --- ë©”ì¸ ì½˜í…ì¸  ë˜í¼ --- */
        .content-wrapper {
            width: 100%;
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 40px 60px 40px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        /* --- ì›Œë“œí´ë¼ìš°ë“œ ìŠ¤íƒ€ì¼ --- */
        #word-cloud {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 20px;
            width: 100%;
            max-width: 800px;
            height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-bottom: 20px;
            transition: height 0.3s ease; /* ë†’ì´ ë³€ê²½ ì‹œ ë¶€ë“œëŸ½ê²Œ */
        }

        /* --- í•„í„° ë²„íŠ¼ ìŠ¤íƒ€ì¼ (New) --- */
        .filter-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            background-color: #eee;
            color: #555;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .filter-btn.active {
            color: white;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        /* ë²„íŠ¼ë³„ ìƒ‰ìƒ (í™œì„±í™” ì‹œ) */
        .filter-btn[data-category="all"].active { background-color: #555; }
        .filter-btn[data-category="action"].active { background-color: #D32F2F; }
        .filter-btn[data-category="value"].active { background-color: #1976D2; }
        .filter-btn[data-category="emotion"].active { background-color: #F57C00; }

        /* ë¹„í™œì„± ìƒíƒœì¼ ë•Œì˜ í˜¸ë²„ ìƒ‰ìƒ */
        .filter-btn[data-category="action"]:not(.active):hover { color: #D32F2F; background-color: #ffebee; }
        .filter-btn[data-category="value"]:not(.active):hover { color: #1976D2; background-color: #e3f2fd; }
        .filter-btn[data-category="emotion"]:not(.active):hover { color: #F57C00; background-color: #fff3e0; }


        /* --- ë²”ë¡€ ìŠ¤íƒ€ì¼ --- */
        .legend {
            display: flex;
            gap: 15px;
            margin-bottom: 40px;
            font-size: 0.9rem;
            background: white;
            padding: 10px 20px;
            border-radius: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .tooltip {
            position: absolute;
            text-align: center;
            padding: 10px 14px;
            font-size: 14px;
            background: rgba(33, 33, 33, 0.95);
            color: #fff;
            border-radius: 8px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 10;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            line-height: 1.4;
        }
        
        /* ë¶„ì„ í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .analysis-table-container {
            width: 100%;
            max-width: 800px;
            margin-bottom: 40px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .analysis-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
        }

        .analysis-table th, .analysis-table td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .analysis-table th {
            background-color: #f8f9fa;
            font-weight: 700;
            color: #333;
            border-bottom: 2px solid #ddd;
        }

        .analysis-table tr:last-child td {
            border-bottom: none;
        }

        .category-cell {
            font-weight: 700;
            white-space: nowrap;
        }
        
        .cat-action { color: #D32F2F; }
        .cat-value { color: #1976D2; }
        .cat-emotion { color: #F57C00; }

        .keywords-cell {
            color: #555;
            line-height: 1.6;
        }

        .interpretation-cell {
            color: #444;
            line-height: 1.5;
            font-size: 0.9rem;
            background-color: #fafafa;
        }

        /* ì°¸ê³  ìë£Œ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .sources-container {
            width: 100%;
            max-width: 800px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 30px;
            box-sizing: border-box;
        }

        .sources-container h3 {
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.2rem;
            color: #333;
            border-bottom: 2px solid #eee;
            padding-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .source-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 0;
            border-bottom: 1px solid #f0f0f0;
            transition: background-color 0.2s;
        }

        .source-item:hover {
            background-color: #fafafa;
        }

        .source-item:last-child {
            border-bottom: none;
        }

        .source-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
            flex: 1;
            margin-right: 15px;
        }

        .source-title {
            font-weight: 600;
            color: #222;
            font-size: 0.95rem;
        }

        .source-origin {
            font-size: 0.8rem;
            color: #777;
        }

        .source-link {
            display: inline-block;
            background-color: #555;
            color: white;
            padding: 7px 14px;
            border-radius: 6px;
            text-decoration: none;
            font-size: 0.8rem;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .source-link:hover {
            background-color: #D32F2F;
            transform: translateY(-1px);
        }

        @media (max-width: 800px) {
            .hero-header {
                height: 280px;
                padding: 0 10px;
            }
            .hero-header h2 {
                font-size: 1.8rem;
            }
            .content-wrapper {
                padding: 0 20px 40px 20px;
                align-items: center;
            }
            .analysis-table th, .analysis-table td {
                padding: 10px;
                display: block;
                width: 100%;
                box-sizing: border-box;
            }
            .analysis-table th {
                display: none;
            }
            .category-cell {
                font-size: 1.1rem;
                margin-bottom: 5px;
                border-bottom: none;
                padding-bottom: 0;
            }
            .keywords-cell {
                padding-top: 0;
                padding-bottom: 10px;
            }
            .interpretation-cell {
                background-color: #f4f4f4;
                border-radius: 8px;
                margin-bottom: 20px;
            }
            .source-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
            .source-link {
                width: 100%;
                text-align: center;
                box-sizing: border-box;
            }
            .source-info {
                margin-right: 0;
            }
            .filter-container {
                justify-content: center;
            }
        }
    </style>
</head>
<body>

    <!-- ìƒë‹¨ íˆì–´ë¡œ ì„¹ì…˜ -->
    <header class="hero-header">
        <a href="index.html" class="home-button" aria-label="ë©”ì¸ìœ¼ë¡œ ì´ë™">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
        </a>

        <h2>1979, íƒ€ì˜¤ë¥´ëŠ” ì²­ë…„ì˜ ì—´ì •: ë¶€ë§ˆë¯¼ì£¼í•­ìŸì˜ ëª©ì†Œë¦¬</h2>
        <p class="description">
            1979ë…„ 10ì›”, ë¶€ì‚°ëŒ€í•™êµ ì²­ë…„ë“¤ì˜ ì„ ì–¸ë¬¸ê³¼ ê¸°ë¡ì—ì„œ ì¶”ì¶œí•œ í•µì‹¬ ë‹¨ì–´ë“¤ì…ë‹ˆë‹¤.<br>
            ê·¸ë“¤ì˜ ëœ¨ê±°ìš´ ì—´ì •ê³¼ ì‹œëŒ€ì •ì‹ ì„ ë°ì´í„°ë¡œ ì‹œê°í™”í–ˆìŠµë‹ˆë‹¤.
        </p>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  ë˜í¼ -->
    <div class="content-wrapper">
        
        <!-- ì›Œë“œí´ë¼ìš°ë“œ ì˜ì—­ -->
        <div id="word-cloud"></div>

        <!-- í•„í„° ë²„íŠ¼ ì˜ì—­ (New) -->
        <div class="filter-container">
            <button class="filter-btn active" data-category="all" onclick="filterWords('all')">
                <span>ì „ì²´ ë³´ê¸°</span>
            </button>
            <button class="filter-btn" data-category="action" onclick="filterWords('action')">
                <div class="dot" style="background-color: #D32F2F;"></div>
                <span>í–‰ë™ (Action)</span>
            </button>
            <button class="filter-btn" data-category="value" onclick="filterWords('value')">
                <div class="dot" style="background-color: #1976D2;"></div>
                <span>ê°€ì¹˜ (Value)</span>
            </button>
            <button class="filter-btn" data-category="emotion" onclick="filterWords('emotion')">
                <div class="dot" style="background-color: #F57C00;"></div>
                <span>ê°ì • (Emotion)</span>
            </button>
        </div>

        <!-- ë²”ë¡€ (ìœ ì§€í•˜ë˜ í•„í„° ë²„íŠ¼ê³¼ í•¨ê»˜ ì •ë³´ ì œê³µ) -->
        <!-- <div class="legend">...</div>  ë²”ë¡€ ë‚´ìš©ì€ ì´ë¯¸ í•„í„° ë²„íŠ¼ì— í¬í•¨ë˜ì–´ ìˆì–´ ì¤‘ë³µì„ í”¼í•˜ê¸° ìœ„í•´ ì œê±°í•˜ê±°ë‚˜ ìœ ì§€í•  ìˆ˜ ìˆìŒ. 
             ìš”ì²­í•˜ì‹  ë‚´ìš©ì— ë”°ë¼ ë²„íŠ¼ ì•„ë˜ì— ê¸°ì¡´ ë²”ë¡€ëŠ” ì‹œê°ì  ì¤‘ë³µì´ ë  ìˆ˜ ìˆìœ¼ë‚˜, 
             ë””ìì¸ ì¼ê´€ì„±ì„ ìœ„í•´ ë²„íŠ¼ìœ¼ë¡œ ê¸°ëŠ¥ì„ í†µí•©í•˜ê³ , ì•„ë˜ ë¶„ì„ í…Œì´ë¸”ê³¼ì˜ ê°„ê²©ì„ ìœ„í•´ ë‚¨ê²¨ë‘ê±°ë‚˜ ì‚­ì œí•´ë„ ì¢‹ìŠµë‹ˆë‹¤.
             ì—¬ê¸°ì„œëŠ” ê¹”ë”í•¨ì„ ìœ„í•´ 'ë²”ë¡€' ì„¹ì…˜ì„ ì‚­ì œí•˜ê³  ë²„íŠ¼ì´ ê·¸ ì—­í• ì„ ëŒ€ì‹ í•˜ê²Œ í•©ë‹ˆë‹¤.
        -->

        <!-- ë¶„ì„ í…Œì´ë¸” ì„¹ì…˜ -->
        <div class="analysis-table-container">
            <table class="analysis-table">
                <thead>
                    <tr>
                        <th width="15%">ë¶„ë¥˜</th>
                        <th width="50%">ì£¼ìš” í‚¤ì›Œë“œ</th>
                        <th width="35%">í•´ì„ (ì²­ë…„ì˜ ì—´ì • ë¶„ì„)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="category-cell cat-action">í–‰ë™ ì–¸ì–´<br><small>(Action)</small></td>
                        <td class="keywords-cell">
                            <strong>ë…ì¬ íƒ€ë„, ìœ ì‹  ì² í, íˆ¬ìŸ</strong>, íšƒë¶ˆ, ìŠ¤í¬ëŸ¼, í•­ê±°, ì—°ëŒ€, ì •ë¬¸ ëŒíŒŒ, ë„ì„œê´€, ìµœë£¨íƒ„, ì§ì„ ì œ, ê¶ê¸°
                        </td>
                        <td class="interpretation-cell">
                            ë‹¹ì‹œì˜ ì—´ì •ì€ ë‚´ë©´ì˜ ê³ ë¯¼ì— ë¨¸ë¬´ë¥´ì§€ ì•Šê³ , <strong>ì§ì ‘ ëª¸ìœ¼ë¡œ ë¶€ë”ªíˆëŠ” ì‹¤ì²œì  ì—ë„ˆì§€</strong>ì˜€ìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤. 'íƒ€ë„', 'ì² í', 'ëŒíŒŒ' ê°™ì€ ê°•ë ¥í•œ íŒŒì—´ìŒì˜ ë‹¨ì–´ê°€ ì£¼ë¥¼ ì´ë£¹ë‹ˆë‹¤.
                        </td>
                    </tr>
                    <tr>
                        <td class="category-cell cat-value">ê°€ì¹˜ ì–¸ì–´<br><small>(Value)</small></td>
                        <td class="keywords-cell">
                            <strong>ììœ , ë¯¼ì£¼, ì •ì˜</strong>, ë¯¼ì¡±, ì–‘ì‹¬, ì§„ë¦¬, ì§€ì„±, ì‚¬ëª…ê°, ì±…ì„ê°, ì—­ì‚¬, ì• êµ­
                        </td>
                        <td class="interpretation-cell">
                            í–‰ë™ì˜ ëª…ë¶„ì…ë‹ˆë‹¤. ê°œì¸ì˜ ì´ìµ(ì·¨ì—…, ì„±ì )ì´ ì•„ë‹Œ <strong>ê³µë™ì²´ì˜ ê°€ì¹˜(ë¯¼ì¡±, ì—­ì‚¬, ì •ì˜)</strong>ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ ë‘ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </td>
                    </tr>
                    <tr>
                        <td class="category-cell cat-emotion">ê°ì • ì–¸ì–´<br><small>(Emotion)</small></td>
                        <td class="keywords-cell">
                            <strong>ë¶„ë…¸, í”¼, í•¨ì„±</strong>, ìš©ê¸°, ë‘ë ¤ì›€, ë¶€ë„ëŸ¬ì›€, ì‹ì–´ê°€ëŠ” ì •ì—´, ë°•ìˆ˜, ê³ ë‡Œ
                        </td>
                        <td class="interpretation-cell">
                            ë‹¨ìˆœí•œ í¥ë¶„ì´ ì•„ë‹Œ, í˜„ì‹¤ì— ëŒ€í•œ <strong>'ì˜ë¶„(ì˜ë¡œìš´ ë¶„ë…¸)'</strong>ê³¼ ì§€ì„±ì¸ìœ¼ë¡œì„œ í–‰ë™í•˜ì§€ ëª»í•˜ëŠ” ê²ƒì— ëŒ€í•œ <strong>'ë¶€ë„ëŸ¬ì›€'</strong>ì´ í–‰ë™ì˜ ë™ë ¥ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ì°¸ê³  ìë£Œ ì„¹ì…˜ -->
        <div class="sources-container">
            <h3>ğŸ“Š ë°ì´í„° ì¶œì²˜ ë° ì°¸ê³  ìë£Œ</h3>
            
            <div class="source-item">
                <div class="source-info">
                    <span class="source-title">ë¶€ë§ˆ í•­ìŸì‹œ ë¶€ì‚°ëŒ€ í•™ìƒë“¤ì˜ ë¯¼ì£¼ ì„ ì–¸ë¬¸</span>
                    <span class="source-origin">êµ­ì‚¬í¸ì°¬ìœ„ì›íšŒ (ìš°ë¦¬ì—­ì‚¬ë„·)</span>
                </div>
                <a href="https://contents.history.go.kr/id/hm_150_0140" target="_blank" class="source-link">ì›ë¬¸ ë³´ê¸° â†—</a>
            </div>

            <div class="source-item">
                <div class="source-info">
                    <span class="source-title">ë¯¼ì£¼íˆ¬ìŸì„ ì–¸ë¬¸ (10.15 ë°°í¬ ì›ë¬¸)</span>
                    <span class="source-origin">ë¶€ë§ˆë¯¼ì£¼í•­ìŸê¸°ë…ì¬ë‹¨ ì•„ì¹´ì´ë¸Œ</span>
                </div>
                <a href="http://www.buma1979.com/portal/bumaRecord/view.do?record_id=37" target="_blank" class="source-link">ì›ë¬¸ ë³´ê¸° â†—</a>
            </div>

            <div class="source-item">
                <div class="source-info">
                    <span class="source-title">[íŠ¹ì§‘] ë¶€ë§ˆë¯¼ì£¼í•­ìŸ ë°œìì·¨ ë”°ë¼ê°€ë‹¤ (ì‹œê°„ëŒ€ë³„ ì •ë¦¬)</span>
                    <span class="source-origin">ì±„ë„PNU (ë¶€ì‚°ëŒ€ì‹ ë¬¸ì‚¬)</span>
                </div>
                <a href="https://channelpnu.pusan.ac.kr/news/articleView.html?idxno=31840" target="_blank" class="source-link">ì›ë¬¸ ë³´ê¸° â†—</a>
            </div>

            <div class="source-item">
                <div class="source-info">
                    <span class="source-title">2022 ë¶€ë§ˆë¯¼ì£¼í•­ìŸ êµ¬ìˆ ì‚¬ë£Œì§‘ (ì°¸ì—¬ì ì¦ì–¸)</span>
                    <span class="source-origin">ë¶€ë§ˆë¯¼ì£¼í•­ìŸê¸°ë…ì¬ë‹¨</span>
                </div>
                <a href="http://www.buma1979.com/portal/archive/introResourceBook/file/18.do" target="_blank" class="source-link">ì›ë¬¸ ë³´ê¸° â†—</a>
            </div>

            <div class="source-item">
                <div class="source-info">
                    <span class="source-title">ë¶€ë§ˆë¯¼ì£¼í•­ìŸ ì •ì˜ ë° ì „ê°œ ê³¼ì •</span>
                    <span class="source-origin">í•œêµ­ë¯¼ì¡±ë¬¸í™”ëŒ€ë°±ê³¼ì‚¬ì „</span>
                </div>
                <a href="https://encykorea.aks.ac.kr/Article/E0024157" target="_blank" class="source-link">ì›ë¬¸ ë³´ê¸° â†—</a>
            </div>
        </div>

    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // ì›ë³¸ ë°ì´í„°: ë‹¨ì–´, ê°€ì¤‘ì¹˜(ë¹ˆë„), ì¹´í…Œê³ ë¦¬
        const allWords = [
            // í–‰ë™ ì–¸ì–´ (Action) - Red
            {text: "ë…ì¬íƒ€ë„", size: 100, category: "action"},
            {text: "ìœ ì‹ ì² í", size: 95, category: "action"},
            {text: "íˆ¬ìŸ", size: 90, category: "action"},
            {text: "íšƒë¶ˆ", size: 70, category: "action"},
            {text: "ìŠ¤í¬ëŸ¼", size: 65, category: "action"},
            {text: "í•­ê±°", size: 60, category: "action"},
            {text: "ì—°ëŒ€", size: 55, category: "action"},
            {text: "ì •ë¬¸ëŒíŒŒ", size: 50, category: "action"},
            {text: "ë„ì„œê´€", size: 45, category: "action"},
            {text: "ìµœë£¨íƒ„", size: 40, category: "action"},
            {text: "ì§ì„ ì œ", size: 55, category: "action"},
            {text: "ê¶ê¸°", size: 60, category: "action"},

            // ê°€ì¹˜ ì–¸ì–´ (Value) - Blue
            {text: "ììœ ", size: 95, category: "value"},
            {text: "ë¯¼ì£¼", size: 90, category: "value"},
            {text: "ì •ì˜", size: 85, category: "value"},
            {text: "ë¯¼ì¡±", size: 75, category: "value"},
            {text: "ì–‘ì‹¬", size: 70, category: "value"},
            {text: "ì§„ë¦¬", size: 65, category: "value"},
            {text: "ì§€ì„±", size: 60, category: "value"},
            {text: "ì‚¬ëª…ê°", size: 55, category: "value"},
            {text: "ì±…ì„ê°", size: 50, category: "value"},
            {text: "ì—­ì‚¬", size: 55, category: "value"},
            {text: "ì• êµ­", size: 45, category: "value"},

            // ê°ì • ì–¸ì–´ (Emotion) - Orange
            {text: "ë¶„ë…¸", size: 80, category: "emotion"},
            {text: "í”¼", size: 75, category: "emotion"},
            {text: "í•¨ì„±", size: 70, category: "emotion"},
            {text: "ìš©ê¸°", size: 60, category: "emotion"},
            {text: "ë‘ë ¤ì›€", size: 55, category: "emotion"},
            {text: "ë¶€ë„ëŸ¬ì›€", size: 50, category: "emotion"},
            {text: "ì‹ì–´ê°€ëŠ” ì •ì—´", size: 45, category: "emotion"},
            {text: "ë°•ìˆ˜", size: 40, category: "emotion"},
            {text: "ê³ ë‡Œ", size: 45, category: "emotion"},
        ];

        // ìƒ‰ìƒ ë§¤í•‘
        const colors = {
            action: "#D32F2F", // Red
            value: "#1976D2",  // Blue
            emotion: "#F57C00" // Orange
        };

        // ì›Œë“œí´ë¼ìš°ë“œ ë Œë”ë§ í•¨ìˆ˜
        function renderWordCloud(data) {
            // ê¸°ì¡´ SVG ì‚­ì œ
            document.getElementById('word-cloud').innerHTML = '';
            
            const width = document.getElementById('word-cloud').offsetWidth;
            const height = 500;

            // ë°ì´í„° ê¹Šì€ ë³µì‚¬ (d3-cloudëŠ” ê°ì²´ë¥¼ ë³€í˜•ì‹œí‚¤ë¯€ë¡œ ì¬ì‚¬ìš©ì„ ìœ„í•´ ë³µì‚¬ í•„ìš”)
            const layoutData = data.map(d => ({ 
                text: d.text, 
                size: d.size, 
                category: d.category 
            }));

            const layout = d3.layout.cloud()
                .size([width, height])
                .words(layoutData)
                .padding(5)
                .rotate(function() { return ~~(Math.random() * 2) * 90; })
                .font("Noto Sans KR")
                .fontSize(function(d) { return d.size * 0.8; })
                .on("end", draw);

            layout.start();

            function draw(words) {
                const svg = d3.select("#word-cloud").append("svg")
                    .attr("width", layout.size()[0])
                    .attr("height", layout.size()[1])
                    .append("g")
                    .attr("transform", "translate(" + layout.size()[0] / 2 + "," + layout.size()[1] / 2 + ")");

                const textGroups = svg.selectAll("text")
                    .data(words)
                    .enter().append("text")
                    .style("font-size", function(d) { return d.size + "px"; })
                    .style("font-family", "Noto Sans KR")
                    .style("font-weight", "bold")
                    .style("fill", function(d) { return colors[d.category]; })
                    .attr("text-anchor", "middle")
                    .attr("transform", function(d) {
                        return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                    })
                    .text(function(d) { return d.text; })
                    .style("cursor", "pointer")
                    .style("opacity", 0)
                    .on("mouseover", function(event, d) {
                        d3.select(this).style("opacity", 0.7);
                        const tooltip = d3.select("#tooltip");
                        let categoryName = "";
                        if(d.category === 'action') categoryName = "í–‰ë™ ì–¸ì–´";
                        else if(d.category === 'value') categoryName = "ê°€ì¹˜ ì–¸ì–´";
                        else categoryName = "ê°ì • ì–¸ì–´";

                        tooltip.transition().duration(200).style("opacity", .9);
                        tooltip.html(`<strong>${d.text}</strong><br/>ë¶„ë¥˜: ${categoryName}<br/>ê°€ì¤‘ì¹˜: ${d.size}`)
                            .style("left", (event.pageX + 10) + "px")
                            .style("top", (event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                        d3.select(this).style("opacity", 1);
                        d3.select("#tooltip").transition().duration(500).style("opacity", 0);
                    });

                // ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜
                textGroups.transition()
                    .duration(800)
                    .style("opacity", 1);
            }
        }

        // í•„í„°ë§ í•¨ìˆ˜
        function filterWords(category) {
            // ë²„íŠ¼ í™œì„±í™” ìŠ¤íƒ€ì¼ ë³€ê²½
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if(btn.dataset.category === category) {
                    btn.classList.add('active');
                }
            });

            // ë°ì´í„° í•„í„°ë§
            let filteredData;
            if (category === 'all') {
                filteredData = allWords;
            } else {
                filteredData = allWords.filter(word => word.category === category);
            }

            // ì¬ë Œë”ë§
            renderWordCloud(filteredData);
        }

        // ì´ˆê¸° ë Œë”ë§
        renderWordCloud(allWords);

        // ë°˜ì‘í˜• ë¦¬ì‚¬ì´ì§•
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                // í˜„ì¬ í™œì„±í™”ëœ ì¹´í…Œê³ ë¦¬ ì°¾ê¸°
                const activeCategory = document.querySelector('.filter-btn.active').dataset.category;
                filterWords(activeCategory);
            }, 200);
        });

    </script>
</body>
</html>
